@model IEnumerable<POLYTEKS_ARGE.Models.ARGE_Personel>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@if (TempData["AlertMessage"] != null)
{
    <div class="alert alert-success">
        <strong>BAŞARILI!</strong> @TempData["AlertMessage"]
    </div>

}
@if (TempData["EditAlertMessage"] != null)
{
    <div class="alert alert-primary">
        <strong>BAŞARILI!</strong> @TempData["EditAlertMessage"]
    </div>

}
@if (TempData["DeleteAlertMessage"] != null)
{
    <div class="alert alert-danger">
        <strong>BAŞARILI!</strong> @TempData["DeleteAlertMessage"]
    </div>

}
<div class="col-md-12">
    <div class="card" style="background-color: whitesmoke">
        <div class="card-header">
            <br />
            <div class="portlet box blue">
                <center><h2 style="color: black"><b>AR-GE PERSONELLERİ</b></h2></center>
                <hr />

                <script src="~/Scripts/bootstrap.min.js"></script>
                <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

                <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css">
                <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
                <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"></script>
                <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"></script>
                <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

                <p>
                    @Html.ActionLink("YENİ PERSONEL EKLE", "Create", "Personel", new { @class = "btn btn-info btn-block" })
                </p>
                @using (Html.BeginForm("PersonelModeliOlustur", "Personel", FormMethod.Post))
                {
                    <input type="submit" value="RAPOR İNDİR" class="btn btn-danger btn-block" />
                }
                <br />

                <div class="container">
                    <div class="form-group">
                        <div class="input-group">
                            <input class="form-control" type="text" id="Search" placeholder="ARANACAK PERSONELİ GİRİNİZ">
                            <div class="input-group-append">
                                <div class="input-group-text"><i class="fa fa-search"></i></div>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <table class="table table-striped table-bordered table-sm">
                            <thead>
                                <tr style="background-color:#d7c9c9; color: black">
                                    <th>

                                    </th>

                                    <th>
                                        KULLANICI ADI
                                    </th>
                                    <th>
                                        İSİM SOYİSİM
                                    </th>


                                    <th>
                                        E-MAİL
                                    </th>

                                    <th>
                                        DURUM
                                    </th>
                                    <th>

                                    </th>
                                    <th>

                                    </th>
                                </tr>




                            </thead>

                            <tbody>

                                @{
                                    int sayac = 0;
                                    foreach (var item in Model)
                                    {
                                        if (item.PersonelId != 10)
                                        {
                                            sayac++;


                                            <tr class="Search">

                                                <td style="color: black"><center><b>@sayac</b></center></td>
                                                <td style="color: black">
                                                    @Html.DisplayFor(modelItem => item.KullaniciAdi)
                                                </td>

                                                <td style="color: black" type="hidden">

                                                    @Html.DisplayFor(modelItem => item.AdSoyad)
                                                </td>


                                                <td style="color: black">
                                                    @Html.DisplayFor(modelItem => item.Email)
                                                </td>
                                                <td style="color: black">
                                                    @Html.DisplayFor(modelItem => item.Durum)
                                                </td>

                                                <td style="color: black">
                                                    <center><a href="@Url.Action("Edit", "Personel", new { id = item.PersonelId })" title="DÜZENLE" class="btn btn-primary"> <i class="fas fa-pen">   </i></a></center>



                                                </td>

                                                <td style="color: black">
                                                    <center><a href="@Url.Action("Delete", "Personel", new { id = item.PersonelId })" title="SİL" class="btn btn-danger">   <i class="fas fa-trash"> </i></a></center>


                                                </td>
                                            </tr>
                                        }

                                    }
                                }
                            </tbody>


                        </table>

                    </div>
                </div>
            </div>
            <style>
                tr.bordered {
                    border-bottom: 1px solid #000;
                }
            </style>
            <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
            <script type="text/javascript">

                $(document).ready(function () {
                    function Contains(text_one, text_two) {
                        if (text_one.indexOf(text_two) != -1)
                            return true;
                    }
                    $("#Search").keyup(function () {
                        var searchText = $("#Search").val().toLowerCase();
                        $(".Search").each(function () {
                            if (!Contains($(this).text().toLowerCase(), searchText)) {
                                $(this).hide();
                            }
                            else {
                                $(this).show();
                            }
                        })
                    });
                });

            </script>
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
            <script src="https://rawgithub.com/padolsey/jQuery-Plugins/master/sortElements/jquery.sortElements.js"></script>
            <script type="text/javascript">
                var table = $('table');

                $(' #city_header')
                    .wrapInner('<span title="sort this column"/>')
                    .each(function () {

                        var th = $(this),
                            thIndex = th.index(),
                            inverse = false;

                        th.click(function () {

                            table.find('td').filter(function () {

                                return $(this).index() === thIndex;

                            }).sortElements(function (a, b) {
                                var sa = $.text([a]);
                                var sb = $.text([b]);

                                var ia = parseInt(sa);
                                var ib = parseInt(sb);

                                if (!isNaN(ia) && !isNaN(ib)) {
                                    return ia > ib ? inverse ? -1 : 1 : inverse ? 1 : -1;
                                }

                                return sa > sb ?
                                    inverse ? -1 : 1
                                    : inverse ? 1 : -1;

                            }, function () {

                                // parentNode is the element we want to move
                                return this.parentNode;

                            });

                            inverse = !inverse;

                        });

                    });
            </script>

        </div>
    </div>
</div>
<div id="loader" class="center"></div>

<script>
    document.onreadystatechange = function () {
        if (document.readyState !== "complete") {
            document.querySelector(
                "body").style.visibility = "hidden";
            document.querySelector(
                "#loader").style.visibility = "visible";
        } else {
            document.querySelector(
                "#loader").style.display = "none";
            document.querySelector(
                "body").style.visibility = "visible";
        }
    };
</script>
<style>
    #loader {
        border: 12px solid #f3f3f3;
        border-radius: 50%;
        border-top: 12px solid #444444;
        width: 70px;
        height: 70px;
        animation: spin 1s linear infinite;
    }

    @@keyframes spin {
        100% {
            transform: rotate(360deg);
        }
    }

    .center {
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        margin: auto;
    }
</style>